<div class="card" id="confessionSection" style="max-width: 800px; height: 90vh; display: flex; flex-direction: column; padding: 20px; position: relative;">
    <button class="back-button" data-action="back-to-menu">← Back to Main Menu</button>
    <button onclick="Confessions.showHistory()" style="position: absolute; top: 20px; right: 20px; background: linear-gradient(45deg, #764ba2, #667eea); padding: 10px 20px; font-size: 14px; border-radius: 10px; color: white; border: none; cursor: pointer; transition: transform 0.3s, box-shadow 0.3s;" onmouseover="this.style.transform='translateY(-2px)'; this.style.boxShadow='0 10px 20px rgba(0,0,0,0.2)'" onmouseout="this.style.transform='translateY(0)'; this.style.boxShadow='none'">📜 History</button>
    <h2 style="text-align: center;">Confession Roulette 🎭</h2>
    <div style="flex: 1; display: flex; gap: 30px; margin: 20px 0; min-height: 0;">
        <div style="display: flex; flex-direction: column; align-items: center; padding: 20px; background: rgba(102, 126, 234, 0.1); border-radius: 15px; width: 150px;">
            <label style="font-weight: bold; margin-bottom: 20px; text-align: center; font-size: 16px;">Send<br/>Probability</label>
            <div style="position: relative; height: 300px; width: 80px; display: flex; align-items: center; justify-content: center;">
                <div style="position: absolute; width: 12px; height: 100%; background: linear-gradient(to top, #4ecdc4, #667eea, #ff6b6b); border-radius: 6px; box-shadow: inset 0 0 5px rgba(0,0,0,0.2);"></div>
                <input type="range" id="probabilitySlider" min="10" max="50" step="10" value="30" oninput="Confessions.updateProbability()" style="position: absolute; width: 300px; height: 40px; -webkit-appearance: none; background: transparent; outline: none; transform: rotate(-90deg); transform-origin: center; cursor: pointer; margin: 0; padding: 0;" />
            </div>
            <div id="probabilityValue" style="font-size: 36px; font-weight: bold; color: #667eea; margin-top: 20px; text-shadow: 0 2px 4px rgba(0,0,0,0.1);">30%</div>
            <p style="font-size: 12px; color: #666; text-align: center; margin-top: 15px;">Lower = Safer but lower points <br/> Higher = Riskier but higher points <br/> 10% is 1 point and 50% is 5 points etc</p>
        </div>
        <div style="flex: 1; display: flex; flex-direction: column;">
            <div style="flex: 1; display: flex; align-items: center; justify-content: center;">
                <div id="resultMessage" class="result-message hidden" style="margin: 20px; max-width: 500px;"></div>
            </div>
            <div style="background: rgba(102, 126, 234, 0.05); border-radius: 15px; padding: 15px; margin-bottom: 20px;">
                <p style="font-size: 14px; color: #666; margin-bottom: 10px; text-align: center;">type a confession and shoot, depending on fate it's either saved or lost. <br/> If your secret is discarded you get a point. You can exchange points for favours from me (im trying to fuel your gambling addiction). <br/> Some examples are:</p>
                <div style="display: flex; flex-wrap: wrap; gap: 10px; justify-content: center;">
                    <button onclick="Confessions.setStarter('One of the lines I hid from you is...')" style="font-size: 14px; padding: 8px 16px; background: white; color: #667eea; border: 1px solid #667eea;">One of the lines I hid from you is...</button>
                    <button onclick="Confessions.setStarter('I\'ve never told you that...')" style="font-size: 14px; padding: 8px 16px; background: white; color: #667eea; border: 1px solid #667eea;">I've never told you that...</button>
                    <button onclick="Confessions.setStarter('My most embarrassing moment was...')" style="font-size: 14px; padding: 8px 16px; background: white; color: #667eea; border: 1px solid #667eea;">My most embarrassing moment was...</button>
                </div>
            </div>
            <div style="display: flex; gap: 10px; align-items: center;">
                <input type="text" id="confessionInput" placeholder="Type your confession ..." style="flex: 1; padding: 15px; border: 2px solid #ddd; border-radius: 10px; font-size: 16px;" onkeypress="Confessions.handleEnter(event)" oninput="Confessions.checkInput()" />
                <button onclick="Confessions.spin()" id="spinButton" style="background: linear-gradient(45deg, #ff6b6b, #ee5a6f); padding: 15px 30px; font-size: 18px; font-weight: bold;" disabled>🔫 Shoot!</button>
            </div>
        </div>
    </div>
</div>
<div id="confessionHistoryModal" class="modal-overlay hidden">
    <div class="modal-content" style="max-width: 600px; max-height: 80vh; overflow-y: auto;">
        <h3 style="color: #667eea; margin-bottom: 20px;">📜 Confession History</h3>
        <div id="confessionHistoryList"></div>
        <div class="modal-buttons">
            <button onclick="Confessions.hideHistory()">Close</button>
        </div>
    </div>
</div>
